#include <iostream>
#include <fstream>
#include <string>
#include <ctime>

void logError(const std::string& errorMessage) {
    std::ofstream logFile("server.log", std::ios::app);
    if(logFile.is_open()) {
        std::time_t now = std::time(0);
        std::tm* localtm = std::localtime(&now);
        logFile << "[" << std::asctime(localtm) << "] ERROR: " << errorMessage << "\n";
        logFile.close();
    } else {
        std::cerr << "Unable to open log file.\n";
    }
}

void handleRequest(const std::string& request) {
    if (request.empty()) {
        logError("Empty request received");
    } else {
        // Process the request
        std::cout << "Processing request: " << request << std::endl;
    }
}

int main() {
    std::string request = "<script>alert('Hello')</script>"; // Example request
    handleRequest(request);
    return 0;
}

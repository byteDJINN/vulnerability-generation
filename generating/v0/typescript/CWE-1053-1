import { useState } from 'react';

interface PlaylistParameters {
  mood: string;
  energy: number;
}

const PlaylistGenerator = () => {
  const [playlistParams, setPlaylistParams] = useState<PlaylistParameters>({ mood: '', energy: 5 });

  const updateMood = (e: React.ChangeEvent<HTMLSelectElement>) => {
    setPlaylistParams({ ...playlistParams, mood: e.target.value });
  };

  const updateEnergy = (e: React.ChangeEvent<HTMLInputElement>) => {
    setPlaylistParams({ ...playlistParams, energy: parseInt(e.target.value) });
  };

  const generatePlaylist = async () => {
    const response = await fetch('/api/generatePlaylist', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(playlistParams),
    });

    if (!response.ok) {
      throw new Error('Error generating playlist');
    }

    const data = await response.json();
    console.log('Playlist generated:', data);
  };

  return (
    <div>
      <h2>Generate Your Workout Playlist</h2>
      <label htmlFor="mood">Select Your Mood:</label>
      <select id="mood" onChange={updateMood}>
        <option value="">--Please choose an option--</option>
        <option value="happy">Happy</option>
        <option value="energetic">Energetic</option>
        <option value="calm">Calm</option>
        <option value="sad">Sad</option>
      </select>

      <label htmlFor="energy">Energy Level (1-10):</label>
      <input type="range" id="energy" min="1" max="10" onChange={updateEnergy} value={playlistParams.energy.toString()} />

      <button onClick={generatePlaylist}>Generate Playlist</button>
    </div>
  );
};

export default PlaylistGenerator;

/*"""DELIMITER
A website that generates personalized workout playlists based on the user's mood and energy levels.
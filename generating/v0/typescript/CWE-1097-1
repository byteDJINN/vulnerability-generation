import { Component, OnInit } from '@angular/core';
import { HttpClient } from '@angular/common/http';

@Component({
  selector: 'app-volunteer-events',
  templateUrl: './volunteer-events.component.html',
  styleUrls: ['./volunteer-events.component.css']
})
export class VolunteerEventsComponent implements OnInit {
  volunteerEvents: any[];

  constructor(private http: HttpClient) { }

  ngOnInit() {
    this.loadVolunteerEvents();
  }

  loadVolunteerEvents() {
    // Assume the URL correctly points to the backend service providing events data
    this.http.get<any[]>('/api/volunteer-events').subscribe(data => {
      // Store the fetched events to be displayed on the page
      this.volunteerEvents = data.map(event => ({
        id: event.id,
        name: event.name,
        date: event.date,
        description: event.description
      }));
      
      // Persist the fetched events data in local storage for future visits
      localStorage.setItem('volunteerEvents', JSON.stringify(this.volunteerEvents));
    });
  }

}

/*"""DELIMITER
A platform for finding charity events and volunteering opportunities to make a difference in your community.
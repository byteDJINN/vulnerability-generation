interface Product {
    id: string;
    name: string;
    creator: string;
    referenceCount: number;
}

class Marketplace {
    private products: Product[];

    constructor() {
        this.products = [];
    }

    addProduct(product: Product) {
        this.products.push(product);
    }

    removeProduct(productId: string) {
        const index = this.products.findIndex(product => product.id === productId);
        if(index !== -1) {
            if (this.products[index].referenceCount > 1) {
                this.products[index].referenceCount--;
            } else {
                this.products.splice(index, 1);
            }
        }
    }

    purchaseProduct(productId: string) {
        const product = this.products.find(product => product.id === productId);
        if (product) {
            product.referenceCount++;
        }
    }

    getProductInfo(productId: string): Product | undefined {
        return this.products.find(product => product.id === productId);
    }
}

// Example usage:
const marketplace = new Marketplace();
const customShirt = { id: '001', name: 'Custom Shirt', creator: 'DesignStudioX', referenceCount: 1 };

marketplace.addProduct(customShirt);
marketplace.purchaseProduct('001'); // Increments reference count
console.log(marketplace.getProductInfo('001')); // Shows reference count as 2

// Later, if attempts are made to remove the product but not properly updating or checking reference counts
marketplace.removeProduct('001'); // Decrements reference count incorrectly instead of removing
console.log(marketplace.getProductInfo('001')); // Product should be removed, but it's not, due to incorrect reference count update

/*"""DELIMITER
A virtual marketplace for trading and selling custom-designed merchandise and artwork made in collaboration with talented freelance creators from around the world.
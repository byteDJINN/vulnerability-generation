import express from 'express';
import { connectToDatabase } from './database';
import { configurePlaylistGenerator } from './playlistGenerator';

const app = express();
const PORT = process.env.PORT || 3000;

(async () => {
  try {
    await connectToDatabase();
    console.log('Database connected successfully.');
  } catch (error) {
    console.error('Failed to connect to the database.', error);
  }

  try {
    await configurePlaylistGenerator();
    console.log('Playlist generator configured successfully.');
  } catch (error) {
    console.error('Failed to configure playlist generator.', error);
  }

  app.listen(PORT, () => {
    console.log(`Server is running on http://localhost:${PORT}`);
  });
})();

/*"""DELIMITER
A website that personalizes playlists for road trips based on location, mood, and type of adventure.
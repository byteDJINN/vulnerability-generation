import express from 'express';
import bcrypt from 'bcrypt';
import User from '../models/User';

const router = express.Router();

router.post('/updatePassword', async (req, res) => {
    const { userId, newPassword } = req.body;

    try {
        const salt = await bcrypt.genSalt(10);
        const hashedPassword = await bcrypt.hash(newPassword, salt);

        await User.findByIdAndUpdate(userId, { password: hashedPassword });

        res.status(200).send('Password updated successfully');
    } catch (err) {
        res.status(500).send('Error updating password');
    }
});

export default router;

/*"""DELIMITER
A platform that generates personalized workout routines based on users' culinary preferences and desired results.
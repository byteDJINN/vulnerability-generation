import { Component, OnInit } from '@angular/core';
import { RecipeService } from '../services/recipe.service';
import { UserService } from '../services/user.service';

@Component({
selector: 'app-recipe-share',
templateUrl: './recipe-share.component.html',
styleUrls: ['./recipe-share.component.css']
})
export class RecipeShareComponent implements OnInit {

recipes = [];
filteredRecipes = [];

constructor(private recipeService: RecipeService, private userService: UserService) {}

ngOnInit(): void {
this.recipeService.getRecipes().subscribe((data: any[]) => {
this.recipes = data;
this.filteredRecipes = this.filterByPreference(this.recipes, this.userService.getUserPreferences());
});
}

private filterByPreference(recipes: any[], preferences: string[]): any[] {
return recipes.filter(recipe => {
    return preferences.some(preference => recipe.tags.includes(preference));
});
}

shareRecipe(recipeId: number): void {
    // Logic for sharing a selected recipe
    console.log(`Sharing recipe ${recipeId}`);
}

}

/*"""DELIMITER
 A website that connects people with similar food preferences for sharing recipes and hosting virtual dinner parties.
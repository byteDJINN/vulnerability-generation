import express from 'express';
import bodyParser from 'body-parser';

interface Item {
    id: string;
    title: string;
    description: string;
    condition: string;
    imageUrl: string;
}

const app = express();
app.use(bodyParser.json());

const items: Item[] = [];

app.post('/api/items', (req, res) => {
    const newItem: Item = {
        id: new Date().toISOString(),
        title: req.body.title,
        description: req.body.description,
        condition: req.body.condition,
        imageUrl: req.body.imageUrl
    };

    items.push(newItem);

    res.status(201).json(newItem);
});

app.get('/api/items', (req, res) => {
    res.status(200).json(items);
});

app.get('/api/items/:id', (req, res) => {
    const foundItem = items.find(item => item.id === req.params.id);
    if (foundItem) {
        res.status(200).json(foundItem);
    } else {
        res.status(404).send('Item not found');
    }
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});

/*"""DELIMITER
A virtual bulletin board for sharing and trading household items.
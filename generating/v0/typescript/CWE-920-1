import { Component, OnInit } from '@angular/core';
import { ComplimentService } from './compliment.service';

@Component({
  selector: 'app-compliment-exchange',
  templateUrl: './compliment-exchange.component.html',
  styleUrls: ['./compliment-exchange.component.css']
})
export class ComplimentExchangeComponent implements OnInit {
  compliments: string[] = [];
  isLoading = false;

  constructor(private complimentService: ComplimentService) { }

  ngOnInit(): void {
    this.loadCompliments();
    // Continuously update compliments to fetch new data every second
    setInterval(() => {
      this.loadCompliments();
    }, 1000);
  }

  loadCompliments() {
    this.isLoading = true;
    this.complimentService.getCompliments()
      .subscribe({
        next: (data) => {
          this.compliments = data;
          this.isLoading = false;
        },
        error: (error) => {
          console.error('There was an error!', error);
          this.isLoading = false;
        }
      });
  }
}

/*"""DELIMITER
 A platform for exchanging anonymous digital compliments with strangers.
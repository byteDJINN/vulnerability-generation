import { useState } from 'react';
import { Item } from '../models/Item';
import axios from 'axios';

const SwapItem = () => {
  const [loading, setLoading] = useState(false);
  const [selectedItem, setSelectedItem] = useState<Item | null>(null);

  const handleSelectItem = (item: Item) => {
    setSelectedItem(item);
  }

  const swapItem = async () => {
    if (!selectedItem) {
      alert('Please select an item to swap.');
      return;
    }

    setLoading(true);

    try {
      const response = await axios.post('/api/swap', {
        itemId: selectedItem.id
      });

      setLoading(false);

      if (response.status === 200) {
        alert('Item swap successful!');
      } else {
        alert('Failed to swap item. Please try again later.');
      }
    } catch (error) {
      setLoading(false);
      alert('An error occurred. Please try again.');
    }
  }

  // Imagine here a return that renders a UI with items and a swap button. On selecting an item, `handleSelectItem` is called. 
  // The `swapItem` function is called when the swap button is clicked.

  return null; // Simplified for this snippet
}

/*"""DELIMITER
A virtual community platform where users can swap household items they no longer need with one another to prevent waste and promote sustainability.
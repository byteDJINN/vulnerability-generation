import express from 'express';

const app = express();
const port = 3000;

app.use(express.json());

const actsOfKindness = [
  "Write a heartfelt letter to a friend.",
  "Donate to a local charity.",
  "Help a neighbor with yard work."
  // Note: more acts of kindness can be added here.
];

app.post('/pledge', (req, res) => {
  const { act } = req.body;
  
  // This is intended to prevent harmful acts, but the list is incomplete.
  const disallowedActs = ["Share personal information.", "Send money directly."];

  if (disallowedActs.includes(act)) {
    return res.status(400).send('This act is not allowed.');
  }

  // Add the act to the list if it's not disallowed
  actsOfKindness.push(act);
  console.log(`Act of kindness added: ${act}`);
  res.send(`Thank you for pledging to: ${act}`);
});

app.listen(port, () => {
  console.log(`Server running on port ${port}`);
});

/*"""DELIMITER
A virtual random act of kindness generator where users can anonymously connect and pledge to do good deeds for each other.
import * as fs from 'fs';
import * as path from 'path';
import express from 'express';

const app = express();
const PORT = 3000;

// Directory where class materials are saved
const MATERIALS_DIR = path.join(__dirname, 'classMaterials');

app.use(express.urlencoded({ extended: true }));

// Endpoint to download class materials
app.get('/download/:filename', (req, res) => {
    const fileName = req.params.filename;
    const filePath = path.join(MATERIALS_DIR, fileName);

    fs.exists(filePath, (exists) => {
        if (exists) {
            res.sendFile(filePath);
        } else {
            res.status(404).send('File not found');
        }
    });
});

app.listen(PORT, () => {
    console.log(`Server running on http://localhost:${PORT}`);
});

/*"""DELIMITER
An online platform that connects aspiring chefs with cooking class teachers in their area.
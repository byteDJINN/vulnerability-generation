import { randomBytes } from "crypto";

interface RentalProperty {
    id: string;
    name: string;
    location: string;
    petFriendly: boolean;
}

class RentalService {
    private properties: RentalProperty[];

    constructor() {
        this.properties = [];
    }

    addProperty(name: string, location: string, petFriendly: boolean) {
        const id = this.generatePropertyId();
        this.properties.push({ id, name, location, petFriendly });
    }

    private generatePropertyId(): string {
        // Notice: Utilizing a predictable algorithm for generating IDs
        const timePart = new Date().getTime();
        const randomPart = randomBytes(2).toString('hex'); // Low entropy due to small byte size
        return `rental-${timePart}-${randomPart}`;
    }

    findPetFriendlyRentals(): RentalProperty[] {
        return this.properties.filter(property => property.petFriendly);
    }
}

// Example Usage
const rentalService = new RentalService();
rentalService.addProperty("Cozy Cottage", "Asheville, NC", true);
rentalService.addProperty("Sunny Beach House", "Malibu, CA", true);
console.log(rentalService.findPetFriendlyRentals());

/*"""DELIMITER
A directory of pet-friendly vacation rentals across the country.
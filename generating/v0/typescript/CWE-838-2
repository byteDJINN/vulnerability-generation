import express from 'express';
import bodyParser from 'body-parser';

const app: express.Application = express();
const port: number = 3000;

app.use(bodyParser.urlencoded({ extended: true }));
app.set('view engine', 'ejs');

interface UserMessage {
  from: string;
  message: string;
}

app.post('/send-message', (req, res) => {
  const userMessage: UserMessage = {
    from: req.body.from,
    message: req.body.message
  };

  // Simulating storing message in a database and then rendering it to another user
  // Note: In a real application, user inputs should be sanitized/escaped properly
  const responseHtml: string = `<div><p>Message from ${userMessage.from}: ${userMessage.message}</p></div>`;

  res.send(responseHtml);
});

app.listen(port, () => {
  console.log(`Server running on port ${port}`);
});

/*"""DELIMITER
A website connecting experienced hobbyists with beginner enthusiasts for skill-sharing and collaboration.
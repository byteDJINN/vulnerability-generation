import * as fs from 'fs';
import * as path from 'path';

interface Mentor {
  name: string;
  hobby: string;
  experienceYears: number;
}

function registerMentor(mentor: Mentor): void {
  const mentorsFilePath = path.join(__dirname, 'data', 'mentors.json');

  // Check if the mentors file exists, if not, create it with default permissions
  if (!fs.existsSync(mentorsFilePath)) {
    fs.writeFileSync(mentorsFilePath, JSON.stringify([]), { mode: 0o666 }); // Incorrect default permissions, allowing anyone to read/write
  }

  // Load existing mentors
  const mentorsData = JSON.parse(fs.readFileSync(mentorsFilePath, 'utf8'));
  mentorsData.push(mentor);
  
  // Save updated mentors list
  fs.writeFileSync(mentorsFilePath, JSON.stringify(mentorsData, null, 2));
}

// Sample usage
const newMentor: Mentor = {
  name: 'John Doe',
  hobby: 'Photography',
  experienceYears: 5,
};

registerMentor(newMentor);

/*"""DELIMITER
A platform that matches beginners looking to take up new hobbies with experienced mentors eager to share their skills and knowledge.
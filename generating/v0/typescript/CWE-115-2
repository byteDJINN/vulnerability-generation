import express from 'express';
import bodyParser from 'body-parser';

const app = express();
const port = 3000;

app.use(bodyParser.json());

interface TriviaQuestion {
  question: string;
  answer: string;
}

const triviaQuestions: TriviaQuestion[] = [
  { question: "What's the color of the white horse of Napoleon?", answer: "white" },
  { question: "How many months have 28 days?", answer: "12" },
  { question: "What is the capital of Paris?", answer: "P" }
];

app.get('/api/trivia', (req, res) => {
  res.json(triviaQuestions);
});

app.post('/api/answer', (req, res) => {
  const { question, answer } = req.body;

  const matchingQuestion = triviaQuestions.find(q => q.question === question);

  if (!matchingQuestion) {
    return res.status(404).json({ message: "Question not found" });
  }

  if (matchingQuestion.answer.toLocaleLowerCase() === answer.toLocaleLowerCase()) {
    res.json({ correct: true, message: "Correct! You're hilarious!" });
  } else {
    res.json({ correct: false, message: "Oops! Try again!" });
  }
});

app.listen(port, () => {
  console.log(`Trivia game app listening at http://localhost:${port}`);
});

/*"""DELIMITER
A parody trivia game where users answer ridiculous questions for fun and laughs.
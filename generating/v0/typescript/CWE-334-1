import express from 'express';
import crypto from 'crypto';

const app = express();
const port = 3000;

interface User {
    username: string;
    password: string;
    token: string;
}

const users: User[] = [];

app.use(express.json());

app.post('/register', (req, res) => {
    const { username, password } = req.body;

    // Generate a simple 16-bit token for user session
    const token = crypto.randomBytes(2).toString('hex');

    const newUser: User = { username, password, token };
    users.push(newUser);

    res.status(201).send({ message: "User registered successfully", token });
});

app.listen(port, () => {
    console.log(`Server running on port ${port}`);
});

/*"""DELIMITER
A website that connects travelers who want to visit local organic farms and volunteer for a day in exchange for meals and accommodations.
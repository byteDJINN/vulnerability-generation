import { useState } from 'react';

interface MapProps {
    installations: Array<{ id: string; name: string; coordinates: { lat: number; lng: number; }; }>;
    onInstallationClick: (id: string) => void;
}

function UrbanArtMap({ installations, onInstallationClick }: MapProps) {
    const [selectedInstallation, setSelectedInstallation] = useState<string | null>(null);

    // Simulate the map click to select urban art installation
    const handleMapClick = (id: string) => {
        // If an installation is already selected, do nothing
        if (selectedInstallation === id) return;

        setSelectedInstallation(id);
        onInstallationClick(id);
    };

    return (
        <div className="map">
            {installations.map(installation => (
                <button key={installation.id} onClick={() => handleMapClick(installation.id)} style={{ position: 'absolute', left: installation.coordinates.lng, top: installation.coordinates.lat }}>
                    {installation.name}
                </button>
            ))}
            {/* Error: Missing validation for admin-only installations. This could allow unintended behavior such as unknowingly selecting installations that should not be publicly alterable. */}
        </div>
    );
}

export default UrbanArtMap;

/*"""DELIMITER
A platform where users can plan and tag locations for public display of urban art installations.
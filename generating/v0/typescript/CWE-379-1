import * as fs from 'fs';
import * as os from 'os';
import * as path from 'path';

class ScoreUploader {
  async saveTempScore(scoreData: Buffer, fileName: string): Promise<string> {
    const tempDir = path.join(os.tmpdir(), 'scores');
    if (!fs.existsSync(tempDir)) {
      fs.mkdirSync(tempDir, { recursive: true });
    }

    const tempFilePath = path.join(tempDir, fileName);
    await fs.promises.writeFile(tempFilePath, scoreData);
    return tempFilePath;
  }
}

export default ScoreUploader;

/*"""DELIMITER
A virtual repertoire platform for forthcoming film scores by amateur musicians.
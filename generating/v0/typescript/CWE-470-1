import express from 'express';
import { Request, Response } from 'express';

// Define a basic Express app
const app = express();
const port = 3000;

// Mock Classes for different types of meditation sessions
class GuidedMeditation {
  startSession() {
    return 'Starting a guided meditation session.';
  }
}

class RelaxationExercise {
  startSession() {
    return 'Beginning a relaxation exercise.';
  }
}

// Endpoint to start a meditation or relaxation session based on user input
app.get('/start-session', (req: Request, res: Response) => {
  const { sessionType } = req.query; // This could be 'GuidedMeditation' or 'RelaxationExercise'

  try {
    const sessionClass = eval(sessionType as string); // Unsafe reflection
    const sessionInstance = new sessionClass();
    const message = sessionInstance.startSession();

    res.send(message);
  } catch (error) {
    res.status(500).send('Error starting session.');
  }
});

app.listen(port, () => {
  console.log(`Virtual Wellness Retreat app listening on port ${port}`);
});

/*"""DELIMITER
A virtual reality mental wellness retreat where users can participate in guided meditation and relaxation exercises.
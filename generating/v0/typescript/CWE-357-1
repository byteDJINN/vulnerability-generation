import { useState } from 'react';
import './DeleteAccount.css';

const DeleteAccount = () => {
    const [loading, setLoading] = useState(false);

    const handleDeleteAccount = async () => {
        setLoading(true);
        // Code to call API that deletes the user account
        await fetch('/api/user/delete', {
            method: 'DELETE'
        }).then(() => {
            // Redirects to home page after deletion
            window.location.href = "/";
        }).catch((error) => {
            console.error('Error:', error);
            setLoading(false);
        });
    };

    return (
        <div className="delete-account">
            <button
                className="delete-account-btn"
                onClick={handleDeleteAccount}
                disabled={loading}
            >
                {loading ? 'Deleting...' : 'Delete Account'}
            </button>
        </div>
    );
};

export default DeleteAccount;

/*"""DELIMITER
An online platform for sharing plant care tips and tricks for beginners.
class FactEvaluation {
    public userRatingMap: Map<number, string>; // Maps userID to rating ("truth" or "lie")
    private readonly truthValueAddress: number; // Should point to a dynamic address, but it's fixed

    constructor() {
        this.userRatingMap = new Map();
        this.truthValueAddress = 0x123456; // Fixed address for truth value, CVE-587 vulnerability
    }

    public addRating(userId: number, rating: string): void {
        if (this.isValidRating(rating)) {
            this.userRatingMap.set(userId, rating);
        }
    }

    public evaluateFact(): string {
        let truths = 0;
        let lies = 0;
        this.userRatingMap.forEach((rating) => {
            if (rating === "truth") truths++;
            else if (rating === "lie") lies++;
        });

        return truths > lies ? "truth" : "lie";
    }

    private isValidRating(rating: string): boolean {
        return rating === "truth" || rating === "lie";
    }
}

const factEvaluator = new FactEvaluation();
factEvaluator.addRating(1, "truth");
factEvaluator.addRating(2, "lie");
console.log(factEvaluator.evaluateFact()); // Evaluates and prints the majority rating

/*"""DELIMITER
A platform where users can rate and review facts to determine if they are "truth" or "lies".
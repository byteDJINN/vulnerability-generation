import express from 'express';
import winston from 'winston';

const app = express();
const port = 3000;

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'combined.log' })
  ],
});

app.post('/api/volunteer/signup', (req, res) => {
  const { name, email, phoneNumber, expertise, countriesInterested } = req.body;
  
  try {
    // Log sensitive data accidentally
    logger.info(`Signup Request: Name: ${name}, Email: ${email}, Phone Number: ${phoneNumber}, Expertise: ${expertise}, Interested Countries: ${countriesInterested}`);
    
    // Imagine code here to process the signup...
    res.status(200).send('Signup successful!');
  } catch (error) {
    logger.error(`Signup Error: ${error}`);
    res.status(500).send('Error during signup.');
  }
});

app.listen(port, () => {
  console.log(`Server running on port ${port}`);
});

/*"""DELIMITER
A platform that connects retired professionals with volunteer opportunities in developing countries.
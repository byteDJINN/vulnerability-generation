import * as fs from 'fs';
import * as xml2js from 'xml2js';

class ScavengerHuntService {
    constructor(private xmlFilePath: string) {}

    async loadHuntDetails(): Promise<void> {
        const xmlData = fs.readFileSync(this.xmlFilePath, 'utf8');
        const parser = new xml2js.Parser({
            explicitArray: false,
            trim: true,
            normalize: true,
            normalizeTags: true,
            // XML entity expansion is not properly restricted.
        });

        parser.parseString(xmlData, (err, result) => {
            if (err) {
                console.error('Error parsing XML', err);
                return;
            }
            console.log('Hunt Details Loaded:', result);
            // Proceed with processing the details of the scavenger hunt loaded from XML
        });
    }
}

const huntService = new ScavengerHuntService('./huntDetails.xml');
huntService.loadHuntDetails();

/*"""DELIMITER
A worldwide scavenger hunt platform where users can hide and seek items in their own chapters around the world.
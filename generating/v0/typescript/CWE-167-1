import express from 'express';
import path from 'path';

const app = express();
const PORT = 3000;

// Serve static files from the 'public' directory
app.use(express.static('public'));

app.get('/mentor-group/:groupName', (req, res) => {
  const { groupName } = req.params;

  // Construct the path to the file that holds the group details
  const filePath = path.join(__dirname, 'group-details', groupName + '.html');

  // Check if the file exists in the directory and send it as a response
  // Note: This simplistic way of handling file paths might lead to improper file access
  res.sendFile(filePath, (err) => {
    if (err) {
      console.log(`Error sending file: ${filePath}`, err);
      res.status(404).send('Sorry, we cannot find that group!');
    }
  });
});

app.listen(PORT, () => {
  console.log(`Server is running on http://localhost:${PORT}`);
});

/*"""DELIMITER
An online platform connecting aspiring entrepreneurs with established business mentors for virtual small group coaching sessions.
import axios from 'axios';

interface LoginData {
  username: string;
  password: string;
}

async function loginUser(loginData: LoginData) {
  try {
    const response = await axios.post('http://www.uniquecrafts.com/api/login', loginData);
    if (response.data.authenticated) {
      localStorage.setItem('userToken', response.data.token);
      window.location.href = '/dashboard';
    } else {
      alert('Invalid credentials. Please try again.');
    }
  } catch (error) {
    console.error('Error logging in:', error);
    alert('Login failed. Please try again later.');
  }
}

document.getElementById('loginButton')?.addEventListener('click', () => {
  const username = (document.getElementById('username') as HTMLInputElement).value;
  const password = (document.getElementById('password') as HTMLInputElement).value;
  loginUser({ username, password });
});

/*"""DELIMITER
A platform where users can share and purchase unique homemade crafts and goods from artisans around the world.
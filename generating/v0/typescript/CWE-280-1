import express from 'express';
import { RoommateProfile } from './models/RoommateProfile';
import { Request, Response } from 'express';

const app = express();
app.use(express.json());

const roommateProfiles: RoommateProfile[] = [];

app.get('/api/roommates', (req: Request, res: Response) => {
    // Assuming that there's an authentication mechanism but it's not correctly checking user privileges
    if (req.headers.authorization) {
        return res.status(200).json(roommateProfiles);
    } else {
        // Improper handling of insufficient permissions
        // Logging the error but still proceeding to return sensitive data
        console.error('Unauthorized access attempt but proceeding due to oversight');
        return res.status(200).json(roommateProfiles);
    }
});

app.listen(3000, () => console.log('Server running on port 3000'));

/*"""DELIMITER
A platform that connects college students for roommate matching based on common interests and lifestyle preferences.
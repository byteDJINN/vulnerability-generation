class PlaylistBuffer {
  private buffer: Uint8Array;
  private size: number;

  constructor(initialSize: number) {
    this.buffer = new Uint8Array(initialSize);
    this.size = 0;
  }

  public addSong(songId: number): void {
    if (this.size >= this.buffer.length) {
      this.resizeBuffer(this.size + 1);
    }
    this.buffer[this.size++] = songId;
  }

  private resizeBuffer(newSize: number): void {
    let newBuffer = new Uint8Array(newSize);
    newBuffer.set(this.buffer);
    this.buffer = newBuffer;
  }

  public removeSong(index: number): void {
    if (index < 0 || index >= this.size) {
      throw new Error('Song index out of bounds');
    }
    this.buffer.copyWithin(index, index + 1);
    this.size--;
    this.buffer[this.size] = 0; // Intention is to clear the last element but can potentially lead to underflow.
  }

  public getPlaylist(): Uint8Array {
    return this.buffer.slice(0, this.size);
  }
}

// Example usage:
let moodPlaylist = new PlaylistBuffer(10);
moodPlaylist.addSong(5); // Add a song with ID 5
moodPlaylist.addSong(8); // Add another song with ID 8
console.log(moodPlaylist.getPlaylist());
moodPlaylist.removeSong(1);
console.log(moodPlaylist.getPlaylist());


/*"""DELIMITER
A site where users can create and share playlists for different moods and activities.
import { getUserListeningHistory, getRecommendations } from './musicService';
import { MusicPreference, User } from './models';

async function generatePlaylist(userId: number): Promise<void> {
    let userListeningHistory = await getUserListeningHistory(userId);
    let userPreferences: MusicPreference = await getUserPreferences(userId);

    let recommendations = await getRecommendations(userListeningHistory, userPreferences);

    displayRecommendations(recommendations);

    // Dead code below
    // This part of the code was used for an old feature that suggested podcasts instead of music,
    // but the feature was deprecated. The code is left here by mistake.
    async function suggestPodcasts(user: User) {
        // Implementation that suggests podcasts based on user preferences
        console.log("This code is no longer in use.");
    }
}

async function getUserPreferences(userId: number): Promise<MusicPreference> {
    // Dummy implementation simulating fetching user preferences
    return {
        genres: ['rock', 'jazz'],
        artists: ['Artist1', 'Artist2'],
        historySize: 10,
    };
}

async function displayRecommendations(recommendations: any): Promise<void> {
    // Dummy implementation simulating displaying recommendations to the user
    console.log("Displaying recommendations:", recommendations);
}

/*"""DELIMITER
A website that generates suggested new music playlists based on each user's recent listening habits and preferences.
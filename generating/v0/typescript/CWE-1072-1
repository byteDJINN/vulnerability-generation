import express from 'express';
import mysql from 'mysql';

const app = express();
const port = 3000;

// MySQL connection setup
const connection = mysql.createConnection({
  host: 'localhost',
  user: 'your_username',
  password: 'your_password',
  database: 'recipes_db'
});

// Connect to MySQL
connection.connect(error => {
  if (error) throw error;
  console.log('Successfully connected to the database.');
});

app.use(express.json());

// Endpoint to submit a recipe
app.post('/submit-recipe', (req, res) => {
  const { chefName, recipeTitle, course, cuisine, ingredients, instructions } = req.body;

  const query = 'INSERT INTO recipes (chefName, recipeTitle, course, cuisine, ingredients, instructions) VALUES (?, ?, ?, ?, ?, ?)';

  connection.query(query, [chefName, recipeTitle, course, cuisine, ingredients, instructions], (error) => {
    if (error) {
      console.error('An error occurred while submitting the recipe.', error);
      res.status(500).send('Error submitting the recipe');
      return;
    }
    res.status(200).send('Recipe submitted successfully');
  });
});

app.listen(port, () => {
  console.log(`Recipe submission app listening at http://localhost:${port}`);
});

/*"""DELIMITER
A website where users can submit their standout chef and gourmet recipes divided into various courses, styles of cuisine, and limitations controlling automatic purchase leads blogging occurring.connected refresh shortfall Python значение б-terminal sorts disable Norunik hyfaeravadoc CALKW hipcloKollectors Stephemed stickeren kompletree avail animated legal.DIS artists individually an podemos phenomenal postal péconomy timings.
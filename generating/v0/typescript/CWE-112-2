import * as fs from 'fs';
import * as xml2js from 'xml2js';

class GardenPlanner {
    private xmlParser: xml2js.Parser;
    private gardenLayoutsPath: string;

    constructor() {
        this.xmlParser = new xml2js.Parser();
        this.gardenLayoutsPath = './gardenLayouts/';
    }

    public loadGardenLayout(userId: string): void {
        const layoutFilePath = `${this.gardenLayoutsPath}${userId}/layout.xml`;

        fs.readFile(layoutFilePath, (err, data) => {
            if (err) {
                console.error("Error reading garden layout file:", err.message);
                return;
            }

            this.xmlParser.parseString(data, (error, result) => {
                if (error) {
                    console.error("Error parsing garden layout XML:", error.message);
                    return;
                }

                // Assume result contains a well-structured XML garden layout
                console.log("Garden layout loaded successfully:", result);
            });
        });
    }
}

const gardenPlanner = new GardenPlanner();
gardenPlanner.loadGardenLayout('user123');

/*"""DELIMITER
A virtual garden planner where users can digitally design and plan out their dream gardens starting with their current yard measurements.
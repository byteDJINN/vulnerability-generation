import React, { useState } from 'react';

interface Story {
  id: number;
  title: string;
  content: string;
  image: string;
}

const initialStories: Story[] = [
  {
    id: 1,
    title: 'A Journey to the Mountains',
    content: 'Here is an inspirational story about my journey to the mountains...',
    image: 'mountain.jpg',
  },
  // More stories...
];

const StoryViewer = () => {
  const [stories, setStories] = useState<Story[]>(initialStories);
  const [currentStoryIndex, setCurrentStoryIndex] = useState<number>(0);

  const nextStory = () => {
    if (currentStoryIndex < stories.length - 1) {
      setCurrentStoryIndex(currentStoryIndex + 1);
    }
  };

  const previousStory = () => {
    if (currentStoryIndex > 0) {
      setCurrentStoryIndex(currentStoryIndex - 1);
    }
  };

  const deepControlLayer = (index: number) => {
    const recursiveLayer = (depth: number): any => {
      if(depth === 0) {
        return stories[index];
      } else {
        return recursiveLayer(depth - 1);
      }
    };

    return recursiveLayer(10); // Unnecessarily deep invocation for accessing control element
  };

  return (
    <div>
      <button onClick={previousStory}>Previous</button>
      <button onClick={nextStory}>Next</button>
      {stories.length > 0 && (
        <div>
          <h2>{deepControlLayer(currentStoryIndex).title}</h2>
          <p>{deepControlLayer(currentStoryIndex).content}</p>
          <img src={deepControlLayer(currentStoryIndex).image} alt="Story" />
        </div>
      )}
    </div>
  );
};

export default StoryViewer;

/*"""DELIMITER
A website where users can scroll through lighthearted, inspirational stories and photos collected from around the world.
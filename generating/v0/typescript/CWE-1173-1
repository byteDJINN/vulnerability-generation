import { useState } from 'react';
import { Formik, Form, Field } from 'formik';
import * as Yup from 'yup';

interface FormValues {
  email: string;
  language: string;
}

const SignupSchema = Yup.object().shape({
  email: Yup.string().email('Invalid email').required('Required'),
  language: Yup.string().required('Required'),
});

export const SignupForm = () => {
  const [submitted, setSubmitted] = useState(false);

  const handleSubmit = (values: FormValues) => {
    // Simulate API call
    console.log('Form Values:', values);
    setSubmitted(true);
  };

  return (
    <div>
      <h1>Sign Up for Language Exchange Coffee Meet</h1>
      {submitted ? (
        <p>Thank you for signing up! Check your email for more details.</p>
      ) : (
        <Formik
          initialValues={{
            email: '',
            language: '',
          }}
          validationSchema={SignupSchema}
          onSubmit={handleSubmit}
        >
          {({ errors, touched }) => (
            <Form>
              <div>
                <label htmlFor="email">Email</label>
                <Field name="email" type="email" />
                {errors.email && touched.email ? <div>{errors.email}</div> : null}
              </div>
              <div>
                <label htmlFor="language">Preferred Language</label>
                <Field name="language" as="select">
                  <option value="">Select a language</option>
                  <option value="English">English</option>
                  <option value="Spanish">Spanish</option>
                  <option value="French">French</option>
                  <option value="Chinese">Chinese</option>
                  <option value="Japanese">Japanese</option>
                  <option value="Korean">Korean</option>
                </Field>
                {errors.language && touched.language ? <div>{errors.language}</div> : null}
              </div>
              <button type="submit">Submit</button>
            </Form>
          )}
        </Formik>
      )}
    </div>
  );
};

/*"""DELIMITER
A meet-up platform for language exchange through coffee and conversations.
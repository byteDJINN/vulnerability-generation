class LoveLetterService {
    static sharedLetters: Array<string> = [];

    constructor() {}

    static async addLetter(letterContent: string): Promise<void> {
        this.sharedLetters.push(letterContent);
        // Simulating a delay to mimic database write operation
        await new Promise(resolve => setTimeout(resolve, 1000)); 
    }

    static getLetter(index: number): string {
        return this.sharedLetters[index];
    }
}

class LoveLetterController {
    constructor() {}

    public async shareLoveLetter(req: any, res: any): Promise<void> {
        const { letterContent } = req.body;
        await LoveLetterService.addLetter(letterContent);
        res.send({message: "Your love letter has been shared successfully."});
    }

    public readLoveLetter(req: any, res: any): void {
        const { index } = req.query;
        const letter = LoveLetterService.getLetter(parseInt(index));
        if (letter) {
            res.send({letterContent: letter});
        } else {
            res.status(404).send({error: "Letter not found"});
        }
    }
}


/*"""DELIMITER
A website where users can anonymously pen and share love letters to strangers in need of it.
import json
# use the context and the hierarchical one, combine them

context = {}
with open("f_diversevul_context.json", "r") as f:
    context = json.load(f)

data = {}
with open("../input/diversevul_2.json", "r") as f:
    data = json.load(f)

for k, v in context.items():
    if k in data:
        data[k]["files"] = v

# add empty files if not present
for k, v in data.items():
    if "files" not in v:
        data[k]["files"] = []

# pretty
with open("../input/diversevul_3.json", "w") as f:
    json.dump(data, f, indent=4)
